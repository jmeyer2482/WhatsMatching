<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="WhatsMatching">
<title>Vignette 2 - The App • WhatsMatching</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Vignette 2 - The App">
<meta property="og:description" content="WhatsMatching">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">WhatsMatching</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/a-Background.html">Vignette 1 - Background</a>
    <a class="dropdown-item" href="../articles/b-TheApp.html">Vignette 2 - The App</a>
    <a class="dropdown-item" href="../articles/c-Applications.html">Vignette 3 - Applications</a>
    <a class="dropdown-item" href="../articles/d-References.html">References</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/jmeyer2482/WhatsMatching/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Vignette 2 - The App</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/jmeyer2482/WhatsMatching/blob/HEAD/vignettes/b-TheApp.Rmd" class="external-link"><code>vignettes/b-TheApp.Rmd</code></a></small>
      <div class="d-none name"><code>b-TheApp.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="the-nuts-and-bolts-the-server-side">The nuts and bolts (“the server side”)<a class="anchor" aria-label="anchor" href="#the-nuts-and-bolts-the-server-side"></a>
</h2>
<p>This project has been developed as a Shiny app using the Golem
framework to support it’s production. There are a number of key
functions that have been implemented to generate the data and matching
processes. Let’s have a look in a bit more detail.</p>
<div class="section level3">
<h3 id="the-golem-framework">The golem framework<a class="anchor" aria-label="anchor" href="#the-golem-framework"></a>
</h3>
<p>The <a href="https://golemverse.org/" target="_blank" class="external-link">Golem
framework</a> is the brain child of Colin Fay. In essence, Shiny apps
are ideal for development as a R package. That is to say that, the
package structure lends itself well to the development of production
grade Shiny apps.</p>
<p>The <code>golem</code> package itself provides functions and helpers
to generate and create the framework that can be used for the
development of the Shiny app and package. In addition, there are
<a href="https://engineering-shiny.org/" target="_blank" class="external-link"> theoretical
underpinnings and best practice advice</a> provided to give the best
chance of developing a high quality application.</p>
</div>
<div class="section level3">
<h3 id="key-functions-and-functionality">Key functions and functionality<a class="anchor" aria-label="anchor" href="#key-functions-and-functionality"></a>
</h3>
<p>There are
<a href="https://jmeyer2482.github.io/WhatsMatching/reference/index.html" target="_blank" class="external-link">four
key functions</a> that have been developed as part of the package in
order to make data generation and analysis as straightforward as
possible. They are <code>create.sim.data</code>,
<code>matched.data</code>, <code>matching.plot</code>, and
<code>combined.plot</code>. The functions have been designed to follow
and iterative process.</p>
<div class="section level4">
<h4 id="create-sim-data">
<code>create.sim.data()</code><a class="anchor" aria-label="anchor" href="#create-sim-data"></a>
</h4>
<p>As the name suggests, this is the data simulation function. There are
four simulations available for use within the app. Each one has a
specific type of data generation to expore the matching process.</p>
<p><em>Simulation 1</em> is based on King and Neilsen’s most simplistic
illustration of finding the hidden experiment in the data.</p>
<p><em>Simulation 2</em> is based on King and Neilsen’s illustration to
show model dependence and bias.</p>
<p><em>Simulation 3</em> is generated based on using 2 covariates with a
normal distribution. The user can change the causal relationships
between the covariates and/or the treatment and outcome variables but
cannot change the strength of the relationships.</p>
<p><em>Simulation 4</em> uses a bivariate normal distribution to
generate data where the user can alter the level of confounding between
the covariates and the treatment and outcome variables.</p>
</div>
<div class="section level4">
<h4 id="matched-data">
<code>matched.data()</code><a class="anchor" aria-label="anchor" href="#matched-data"></a>
</h4>
<p>This is the function that conducts the matches. It primarily uses
<code>match_on()</code> function in the <code>optmatch</code> package to
generate a <span class="math inline">\(n x p\)</span> matrix of matches
for the chosen method, where <span class="math inline">\(n\)</span> is
the number of control units and <span class="math inline">\(p\)</span>
is the number of treated units. The output is then used to generate the
actual matches along with a number of other outputs that allow further
exploration of the data outside of the app if desired. However, it
should be noted that this function is not designed for complex matching
and may not be suitable for use with categorical data, for example.</p>
</div>
<div class="section level4">
<h4 id="matching-plot">
<code>matching.plot()</code><a class="anchor" aria-label="anchor" href="#matching-plot"></a>
</h4>
<p>This function takes the output from the <code>matched.data</code>
function and turns it into a <code>plotly</code> plot which shows an
accumulative matching of the treated and control units. Outside the app,
this plot can be generated on its own.</p>
</div>
<div class="section level4">
<h4 id="combined-plot">
<code>combined.plot()</code><a class="anchor" aria-label="anchor" href="#combined-plot"></a>
</h4>
<p>The <code>combined.plot</code> function takes 2 different matching
methods generated by the <code>matched.data</code> function and returns
4 subplots that highlight the differences between the matching methods.
Plots 1 and 2 contain visualisations of the way the data has been
matched, Plot 3 shows the standardised mean differences between the
specified covariates and methods (specified in the function, not the
formula), and Plot 4 shows the differences in caclulated estimate of the
treatment effect for both methods. Plots 3 and 4 show the results for
each set of matched data as shown in Plots 1 and 2 as a progression
through the matching process with fixed values of the unadjusted data.
Plot 4 also includes stratified and weighted propensity score estimates
for comparison.</p>
</div>
</div>
<div class="section level3">
<h3 id="deployment-the-app-is-here-the-code-is-here-and-the-vignettes-are-here">Deployment (The app is here, the code is here and the vignettes are
here)<a class="anchor" aria-label="anchor" href="#deployment-the-app-is-here-the-code-is-here-and-the-vignettes-are-here"></a>
</h3>
<p>The development process for this app has meant that it has been most
practical to manage on GitHub. All the associated files and
documentation are hosted on a public GitHub repository -
<a href="https://github.com/jmeyer2482/WhatsMatching" target="_blank" class="external-link">https://github.com/jmeyer2482/WhatsMatching</a>.
In terms of the process undertaken, the <code>WhatsMatching</code>
package is the vehicle for the Shiny App as suggested in Golem
framework. From there, the <code>pkgdown</code> package has been used to
create a package based
<a href="https://jmeyer2482.github.io/WhatsMatching/" target="_blank" class="external-link">website</a>
which can also be deployed from GitHub.</p>
<p>The end result result of this developmental process means that there
is a Shiny App and Package Website that can be used in an educational
format. The GitHub hosting means that the package can be installed by
running
<code>devtools::install_github("jmeyer2482/Whatsmatching")</code> in an
<code>R</code> environment making the functions available to more
advanced users.</p>
<div class="figure">
<img src="../reference/figures/dev_relationships.png" alt=""><p class="caption">Figure 1. Developmental Relationships</p>
</div>
</div>
</div>
<div class="section level2">
<h2 id="simulations-the-ui-side">Simulations (“the UI side”)<a class="anchor" aria-label="anchor" href="#simulations-the-ui-side"></a>
</h2>
<p>Here, we provide some examples that highlight the difficulties in
making decisions about how the matching process should occur.</p>
<div class="section level3">
<h3 id="example-a-data-user-options-screenshot">Example A (data | user options | screenshot)<a class="anchor" aria-label="anchor" href="#example-a-data-user-options-screenshot"></a>
</h3>
<p>We demonstrate in Fig. 2. that the intuitiveness behind using
replacement may not be clear.</p>
<div class="figure">
<img src="../reference/figures/Ex-replacement.PNG" alt=""><p class="caption">Figure 2. Replacement</p>
</div>
</div>
<div class="section level3">
<h3 id="example-b-data-user-options-screenshot">Example B (data | user options | screenshot)<a class="anchor" aria-label="anchor" href="#example-b-data-user-options-screenshot"></a>
</h3>
<div class="figure">
<img src="../reference/figures/Ex-fullyblocked.PNG" alt=""><p class="caption">Figure 2. Replacement</p>
</div>
</div>
<div class="section level3">
<h3 id="example-c-data-user-options-screenshot">Example C (data | user options | screenshot)<a class="anchor" aria-label="anchor" href="#example-c-data-user-options-screenshot"></a>
</h3>
<div class="figure">
<img src="../reference/figures/Ex-ordering.PNG" alt=""><p class="caption">Figure 2. Replacement</p>
</div>
</div>
<div class="section level3">
<h3 id="example-d-data-user-options-screenshot">Example D (data | user options | screenshot)<a class="anchor" aria-label="anchor" href="#example-d-data-user-options-screenshot"></a>
</h3>
<div class="figure">
<img src="../reference/figures/Ex-specification.PNG" alt=""><p class="caption">Figure 2. Replacement</p>
</div>
</div>
<div class="section level3">
<h3 id="example-e-data-user-options-screenshot">Example E (data | user options | screenshot)<a class="anchor" aria-label="anchor" href="#example-e-data-user-options-screenshot"></a>
</h3>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Jason Meyer.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
