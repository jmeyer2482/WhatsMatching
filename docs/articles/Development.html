<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="WhatsMatching">
<title>Development • WhatsMatching</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Development">
<meta property="og:description" content="WhatsMatching">
<meta property="og:image" content="https://jmeyer2482.github.io/WhatsMatching/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-dark"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">WhatsMatching</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-vignettes">Vignettes</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-vignettes">
    <a class="dropdown-item" href="../articles/index.html">All Vignettes</a>
    <a class="dropdown-item" href="../articles/Background.html">Background</a>
    <a class="dropdown-item" href="../articles/Development.html">Development</a>
    <a class="dropdown-item" href="../articles/TheApp.html">The App</a>
    <a class="dropdown-item" href="../articles/DataGen.html">Data Generation</a>
    <a class="dropdown-item" href="../articles/Matching.html">Matching</a>
    <a class="dropdown-item" href="../articles/Examples.html">Examples</a>
    <a class="dropdown-item" href="../articles/functions.html">Using the Functions</a>
    <a class="dropdown-item" href="../articles/Summary.html">Summary</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Functions</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-packages-used">Packages Used</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-packages-used">
    <a class="external-link dropdown-item" href="https://plotly-r.com">plotly</a>
    <a class="external-link dropdown-item" href="https://ggplot2.tidyverse.org">ggplot2</a>
    <a class="external-link dropdown-item" href="https://CRAN.R-project.org/package=dplyr">dplyr</a>
    <a class="external-link dropdown-item" href="https://shiny.rstudio.com/">shiny</a>
    <a class="external-link dropdown-item" href="https://deanattali.com/shinyjs/">shinyjs</a>
    <a class="external-link dropdown-item" href="https://ebailey78.github.io/shinyBS/">shinyBS</a>
    <a class="external-link dropdown-item" href="https://engineering-shiny.org/">golem</a>
    <a class="external-link dropdown-item" href="https://github.com/markmfredrickson/optmatch">optmatch</a>
    <a class="external-link dropdown-item" href="https://cran.r-project.org/package=pkgdown">pkgdown</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/jmeyer2482/WhatsMatching">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Development</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/jmeyer2482/WhatsMatching/blob/HEAD/vignettes/Development.Rmd" class="external-link"><code>vignettes/Development.Rmd</code></a></small>
      <div class="d-none name"><code>Development.Rmd</code></div>
    </div>

    
    
<script src="https://kit.fontawesome.com/e10eea7053.js" crossorigin="anonymous"></script><div class="section level2">
<h2 id="project-development">Project Development<a class="anchor" aria-label="anchor" href="#project-development"></a>
</h2>
<p>This project has been developed as a Shiny app using the Golem
framework<span class="citation"><sup><a href="#ref-Fay2021" role="doc-biblioref">3</a></sup></span> to support it’s production.
There are a number of key functions that have been implemented to
generate the data and matching processes. Let’s have a look in a bit
more detail.</p>
<div class="section level3">
<h3 id="the-golem-framework">The golem framework<a class="anchor" aria-label="anchor" href="#the-golem-framework"></a>
</h3>
<p>The <a href="https://golemverse.org/" target="_blank" class="external-link">Golem
framework</a> is the brain child of Colin Fay. In essence, Shiny apps
are ideal for development as a R package. That is to say that, the
package structure is well suited to the development of production grade
Shiny<span class="citation"><sup><a href="#ref-Shiny" role="doc-biblioref">2</a></sup></span> apps.</p>
<p>The <code>golem</code> package itself provides functions and helpers
to generate and create the framework that can be used for the
development of the Shiny app and package. In addition, there are
<a href="https://engineering-shiny.org/" target="_blank" class="external-link"> theoretical
underpinnings and best practice advice</a> provided to give the best
chance of developing a high quality application.</p>
</div>
<div class="section level3">
<h3 id="key-functions-and-functionality">Key functions and functionality<a class="anchor" aria-label="anchor" href="#key-functions-and-functionality"></a>
</h3>
<p>There are
<a href="https://jmeyer2482.github.io/WhatsMatching/reference/index.html" target="_blank">four
key functions</a> that have been developed as part of the package in
order to make data generation and analysis as straightforward as
possible. They are <code>create.sim.data</code>,
<code>matched.data</code>, <code>matching.plot</code>, and
<code>combined.plot</code>. The functions have been designed to follow
and iterative process. These functions draw upon existing functionality
from other packages including <code>ggplot2</code><span class="citation"><sup><a href="#ref-ggplot2" role="doc-biblioref">9</a></sup></span>, <code>plotly</code><span class="citation"><sup><a href="#ref-plotly" role="doc-biblioref">7</a></sup></span>, <code>dplyr</code><span class="citation"><sup><a href="#ref-dplyr" role="doc-biblioref">10</a></sup></span>, and others<span class="citation"><sup><a href="#ref-boot" role="doc-biblioref">1</a>,<a href="#ref-stats" role="doc-biblioref">5</a>,<a href="#ref-smd" role="doc-biblioref">6</a>,<a href="#ref-MASS" role="doc-biblioref">8</a></sup></span>.Full details can be found in the
<em>Reference</em> section.</p>
<div class="section level4">
<h4 id="create-sim-data">
<code>create.sim.data()</code><a class="anchor" aria-label="anchor" href="#create-sim-data"></a>
</h4>
<p>As the name suggests, this is the data simulation function. There are
four simulations available for use within the app. Each one has a
specific type of data generation to explore the matching process.</p>
<style type="text/css">

table {
  box-shadow: 0 0 20px rgba(0, 0, 0, 0.15);
}

img.figcaption {
  display: table-caption;
  text-align: left;
  caption-side: top;
}


</style>
<table style="border: none;" class="table">
<caption style="text-align:left; caption-side:top;">Table 1. Data Simulations</caption>
  <tr>
<td style="white-space: nowrap;"><em>Simulation 1</em></td>
    <td>Based on King and Neilsen's most simplistic illustration of finding the hidden experiment in the data.</td>
  </tr>
<tr>
<td style="white-space: nowrap;"><em>Simulation 2</em></td> 
    <td>Based on King and Neilsen's illustration to show model dependence and bias.</td>
  </tr>
<tr>
<td style="white-space: nowrap;"><em>Simulation 3</em></td>
    <td>Data is generated based on using two covariates with a bivariate normal distribution. The user can change the causal relationships between the covariates and/or the treatment and outcome variables but cannot change the strength of the relationships.<br>
</td>
  </tr>
<tr>
<td style="white-space: nowrap;"><em>Simulation 4</em></td>
    <td>Uses a bivariate normal distribution to generate data where the user can alter the level of confounding between the covariates and the treatment and outcome variables.</td>
  </tr>
</table>
</div>
<div class="section level4">
<h4 id="matched-data">
<code>matched.data()</code><a class="anchor" aria-label="anchor" href="#matched-data"></a>
</h4>
<p>This is the function that conducts the matching. It primarily uses
<code>match_on()</code> function in the <code>optmatch</code>
package<span class="citation"><sup><a href="#ref-optmatch" role="doc-biblioref">4</a></sup></span> to generate a <span class="math inline">\(n \times p\)</span> matrix of matches for the
chosen method, where <span class="math inline">\(n\)</span> represents
the control units and <span class="math inline">\(p\)</span> represents
the treated units. The output is then used to generate the actual
matches along with a number of other outputs that allow further
exploration of the data outside of the app if desired. However, it
should be noted that this function is not designed for complex matching
and, for example, may not be suitable for use with categorical data.</p>
</div>
<div class="section level4">
<h4 id="matching-plot">
<code>matching.plot()</code><a class="anchor" aria-label="anchor" href="#matching-plot"></a>
</h4>
<p>This function takes the output from the <code>matched.data</code>
function and turns it into a <code>plotly</code> plot which demonstrates
the sequence of matches occurring in a cumulative fashion, starting with
the nearest matched pair to the furthest matched pair. Outside the app,
this plot can be generated on its own.</p>
</div>
<div class="section level4">
<h4 id="combined-plot">
<code>combined.plot()</code><a class="anchor" aria-label="anchor" href="#combined-plot"></a>
</h4>
<p>The <code>combined.plot</code> function takes 2 different matching
methods generated by the <code>matched.data</code> function and returns
4 subplots that highlight the differences between the matching methods.
Plots 1 and 2 contain visualisations of the way the data has been
matched (via the <code>matcing.plot</code> function), Plot 3 shows the
standardised mean differences between the specified covariates and
methods (specified in the function, not the formula), and Plot 4 shows
the differences in the calculated estimate of the treatment effect for
both methods. Plots 3 and 4 show the results for each set of matched
data as shown in Plots 1 and 2 as a progression through the matching
process with fixed values of the unadjusted data. Plot 4 also includes
stratified and weighted propensity score estimates for comparison.</p>
</div>
</div>
<div class="section level3">
<h3 id="deployment">Deployment<a class="anchor" aria-label="anchor" href="#deployment"></a>
</h3>
<p>The development process for this app has meant that it has been most
practical to manage on GitHub. All the associated files and
documentation are hosted on
<a href="https://github.com/jmeyer2482/WhatsMatching" target="_blank" class="external-link">a
public GitHub repository</a>. In terms of the process undertaken, the
<code>WhatsMatching</code> package is the vehicle for the Shiny App as
suggested in Golem framework. From there, <code>pkgdown</code><span class="citation"><sup><a href="#ref-pkgdown" role="doc-biblioref">11</a></sup></span> has been used to create the
package based website you are now viewing, which is deployed from
GitHub.</p>
<p>The end result result of this developmental process means that there
is a Shiny App and Package Website that can be used in an educational
format. The GitHub hosting means that the package can be installed by
running
<code>devtools::install_github("jmeyer2482/Whatsmatching")</code> in an
<code>R</code> environment making the functions available to more
advanced users. Figure 1 shows the development pathways and output that
have been generated from the process.</p>
<table style="border: none;" class="table">
<caption style="text-align:left; caption-side:top;"> Figure 1. Developmental Relationships</caption>
  <tr>
<td style="text-align:center"><img src="../reference/figures/dev_pathway.png" border="0" width="100%"></td>
  </tr>
</table>
</div>
</div>
<div class="section level2 unnumbered">
<h2 class="unnumbered" id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-boot" class="csl-entry">
1. Canty A, Ripley BD. Boot: Bootstrap r (s-plus) functions. Published
online 2021.
</div>
<div id="ref-Shiny" class="csl-entry">
2. Chang W, Cheng J, Allaire J, et al. <em>Shiny: Web Application
Framework for r</em>.; 2022. <a href="https://shiny.rstudio.com/" class="external-link">https://shiny.rstudio.com/</a>
</div>
<div id="ref-Fay2021" class="csl-entry">
3. Fay C, Rochette S, Guyader V, Girard C. <em><span>Engineering
Production-Grade Shiny Apps</span></em>. 1st ed. Chapman; Hall/CRC;
2021:398. <a href="https://engineering-shiny.org/" class="external-link">https://engineering-shiny.org/</a>
</div>
<div id="ref-optmatch" class="csl-entry">
4. Hansen BB, Klopfer SO. Optimal full matching and related designs via
network flows. 2006;15.
</div>
<div id="ref-stats" class="csl-entry">
5. R Core Team. R: A language and environment for statistical computing.
Published online 2022. <a href="https://www.R-project.org/" class="external-link">https://www.R-project.org/</a>
</div>
<div id="ref-smd" class="csl-entry">
6. Saul B. Smd: Compute standardized mean differences. Published online
2020. <a href="https://CRAN.R-project.org/package=smd" class="external-link">https://CRAN.R-project.org/package=smd</a>
</div>
<div id="ref-plotly" class="csl-entry">
7. Sievert C. Interactive web-based data visualization with r, plotly,
and shiny. Published online 2020. <a href="https://plotly-r.com" class="external-link">https://plotly-r.com</a>
</div>
<div id="ref-MASS" class="csl-entry">
8. Venables WN, Ripley BD. Modern applied statistics with s. Published
online 2002. <a href="https://www.stats.ox.ac.uk/pub/MASS4/" class="external-link">https://www.stats.ox.ac.uk/pub/MASS4/</a>
</div>
<div id="ref-ggplot2" class="csl-entry">
9. Wickham H. ggplot2: Elegant graphics for data analysis. Published
online 2016. <a href="https://ggplot2.tidyverse.org" class="external-link">https://ggplot2.tidyverse.org</a>
</div>
<div id="ref-dplyr" class="csl-entry">
10. Wickham H, François R, Henry L, Müller K. Dplyr: A grammar of data
manipulation. Published online 2022. <a href="https://CRAN.R-project.org/package=dplyr" class="external-link">https://CRAN.R-project.org/package=dplyr</a>
</div>
<div id="ref-pkgdown" class="csl-entry">
11. Wickham H, Hesselberth J, Salmon M. Pkgdown: Make static HTML
documentation for a package. Published online 2022. <a href="https://CRAN.R-project.org/package=pkgdown" class="external-link">https://CRAN.R-project.org/package=pkgdown</a>
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Jason Meyer.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
